<div class="section__c-form spacing spacing-xs color-{{ section.settings.color_scheme }} gradient"
  style="--padding-top: {{ section.settings.padding_top }}px;
    --padding-bottom: {{ section.settings.padding_bottom }}px;
    --padding-top-xs: {{ section.settings.padding_top_mobile }}px;
    --padding-bottom-xs: {{ section.settings.padding_bottom_mobile }}px;"
>
  <div class="{{ section.settings.section_width }} m-auto" {% if section.settings.section_width == 'customized-width' %}style="--page-width: {{ section.settings.customize_width }}px;"{% endif %}>
    {%- if section.settings.heading != blank -%}
      <div class="p-w__header">
        <div class="p-w__header--wrapper center">
          <h2 id="SectionHeading-{{ section.id }}" class="p-w__heading heading-size-default m-0{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
            {{ section.settings.heading | escape }}
          </h2>
        </div>
      </div>
    {%- else -%}
      <h2 class="visually-hidden">{{ 'templates.contact.form.title' | t }}</h2>
    {%- endif -%}
    <div class="p-w__content">
      <div class="contact grid-col d-flex a-i-center f-wrap pos-relative" style="--c-xs: 1; --c-sm: 1; --c-md: 1; --c-lg: 2; --grid: 1.5rem;">
        <div class="grid__item">
          <div class="contact__form">
            {%- liquid
              assign contact_form_class = 'isolate'
              if settings.animations_reveal_on_scroll
                assign contact_form_class = 'isolate scroll-trigger animate--slide-in'
              endif
            -%}
            {%- form 'contact', id: 'ContactForm', class: contact_form_class -%}
              {%- if form.posted_successfully? -%}
                <h2 class="form-status form-status-list form__message m-0 l-h-1 d-flex h4" tabindex="-1" autofocus>
                  {% render 'icon-success' %}
                  {{ 'templates.contact.form.post_success' | t }}
                </h2>
              {%- elsif form.errors -%}
                <div class="form__message">
                  <h2 class="form-status caption-large text-body m-0 l-h-1 d-flex h4" role="alert" tabindex="-1" autofocus>
                    {% render 'icon-error' %}
                    {{ 'templates.contact.form.error_heading' | t }}
                  </h2>
                </div>
                <ul class="form-status-list caption-large p-0" role="list">
                  <li>
                    <a href="#ContactForm-email" class="link u-link u-u">
                      {{ form.errors.translated_fields.email | capitalize }}
                      {{ form.errors.messages.email }}
                    </a>
                  </li>
                </ul>
              {%- endif -%}
              <div class="field f-a-none f-b-none pos-relative">
                <label class="d-block field__label field__label--inline pos-relative" for="ContactForm-name">{{ 'templates.contact.form.name' | t }}</label>
                <input
                  class="field__input field__input--inline"
                  autocomplete="name"
                  type="text"
                  id="ContactForm-name"
                  name="contact[{{ 'templates.contact.form.name' | t }}]"
                  value="{% if form.name %}{{ form.name }}{% elsif customer %}{{ customer.name }}{% endif %}"
                  placeholder="{{ 'templates.contact.form.name' | t }}"
                >
              </div>
              <div class="field f-a-none f-b-none pos-relative">
                <label class="d-flex j-c-between field__label field__label--inline pos-relative" for="ContactForm-email">
                  {{- 'templates.contact.form.email' | t }}<span aria-hidden="true" class="f-italic caption">{{- 'templates.contact.form.required' | t }}</span>
                </label>
                <input
                  autocomplete="email"
                  type="email"
                  id="ContactForm-email"
                  class="field__input field__input--inline"
                  name="contact[email]"
                  spellcheck="false"
                  autocapitalize="off"
                  value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}"
                  aria-required="true"
                  {% if form.errors contains 'email' %}
                    aria-invalid="true"
                    aria-describedby="ContactForm-email-error"
                  {% endif %}
                  placeholder="{{ 'templates.contact.form.email' | t }}"
                >
                {%- if form.errors contains 'email' -%}
                  <small class="contact__field-error" id="ContactForm-email-error">
                    <span class="visually-hidden">{{ 'accessibility.error' | t }}</span>
                    <span class="form__message subrte">
                      {%- render 'icon-error' -%}
                      {{- form.errors.translated_fields.email | capitalize }}
                      {{ form.errors.messages.email -}}
                    </span>
                  </small>
                {%- endif -%}
              </div>
              <div class="field f-a-none f-b-none pos-relative">
                <label class="d-block field__label field__label--inline pos-relative" for="ContactForm-phone">{{ 'templates.contact.form.phone' | t }}</label>
                <input
                  type="tel"
                  id="ContactForm-phone"
                  class="field__input field__input--inline"
                  autocomplete="tel"
                  name="contact[{{ 'templates.contact.form.phone' | t }}]"
                  pattern="[0-9\-]*"
                  value="{% if form.phone %}{{ form.phone }}{% elsif customer %}{{ customer.phone }}{% endif %}"
                  placeholder="{{ 'templates.contact.form.phone' | t }}"
                >
              </div>
              <div class="field f-a-none f-b-none pos-relative">
                <label for="ContactForm-company" class="field__label d-block field__label--inline pos-relative">{{ 'templates.contact.form.company' | t }}</label>
                <input
                  class="field__input field__input--inline"
                  type="text"
                  id="ContactForm-company"
                  name="contact[{{ 'templates.contact.form.company' | t }}]"
                  value="{% if form.company %}{{ form.company }}{% elsif customer %}{{ customer.company }}{% endif %}"
                  autocomplete="organization"
                  placeholder="{{ 'templates.contact.form.company' | t }}"
                >
              </div>
              <div class="field f-a-none f-b-none pos-relative">
                <label class="d-block field__label field__label--inline pos-relative" for="ContactForm-body">
                  {{- 'templates.contact.form.comment' | t -}}
                </label>
                <textarea
                  rows="10"
                  id="ContactForm-body"
                  class="text-area text-area--inline field__input field__input--inline"
                  name="contact[{{ 'templates.contact.form.comment' | t }}]"
                  placeholder="{{ 'templates.contact.form.comment' | t }}"
                >
                  {{- form.body -}}
                </textarea>
              </div>
              <div class="field__action contact__button m-t m-b" style="--m-t: 3.2rem; --m-b: 3rem;">
                <button type="submit" class="button {{ settings.button_style | prepend: 'button--style-' }} mi-w" style="--mi-w: 25rem;">
                  <span class="text">{{ 'templates.contact.form.send' | t }}</span>
                </button>
              </div>
            {%- endform -%}
          </div>
        </div>
        {%- if section.blocks.size > 0 -%}
          <div class="grid__item">
            <div class="contact__info rich-text">
              {%- for block in section.blocks -%}
                {%- case block.type -%}
                  {%- when 'heading' -%}
                    {%- if block.settings.heading != blank -%}
                      <h2 class="rich-text__heading rte m-0 element-spacing{% if block.settings.show_line_separator %} b-bottom{% endif %}" {{ block.shopify_attributes }}
                        style="--padding-top: {{ block.settings.padding_top }}px;
                          --padding-bottom: {{ block.settings.padding_bottom }}px;" 
                      >
                        {{ block.settings.heading | replace: 'p>', 'span>' }}
                      </h2>
                    {%- endif -%}
                  {%- when 'caption' -%}
                    {%- if block.settings.caption != blank -%}
                      <p class="rich-text__caption element-spacing m-0" {{ block.shopify_attributes }}
                        style="--padding-top: {{ block.settings.padding_top }}px;
                          --padding-bottom: {{ block.settings.padding_bottom }}px;"
                      >
                        {{ block.settings.caption | escape }}
                      </p>
                    {%- endif -%}
                  {%- when 'text' -%}
                    {%- if block.settings.text != blank -%}
                      <div class="rich-text__text rte element-spacing" {{ block.shopify_attributes }}
                        style="--padding-top: {{ block.settings.padding_top }}px;
                          --padding-bottom: {{ block.settings.padding_bottom }}px;"
                      >
                        {{ block.settings.text }}
                      </div>
                    {%- endif -%}
                  {%- when 'button' -%}
                    {%- if block.settings.primary_button_label != blank or block.settings.secondary_button_label != blank -%}
                      <div class="rich-text__buttons d-flex f-wrap g-gap element-spacing j-c-{{ section.settings.text_alignment | replace: 'left', 'start' | replace: 'right', 'end' }}" {{ block.shopify_attributes }}
                        style="--g-gap: 1.5rem;
                          --padding-top: {{ block.settings.padding_top }}px;
                          --padding-bottom: {{ block.settings.padding_bottom }}px;"
                      >
                        {%- if block.settings.primary_button_label != blank -%}
                          <a
                            {% if block.settings.primary_button_link == blank %}
                              role="link" aria-disabled="true"
                            {% else %}
                              href="{{ block.settings.primary_button_link }}"
                            {% endif %}
                            class="button {{ settings.button_style | prepend: 'button--style-' }} button--transparent mi-w color-{{ block.settings.primary_button_color_scheme }} gradient" style="--mi-w: 25rem;"
                          >
                            <span>{{- block.settings.primary_button_label | escape -}}</span>
                          </a>
                        {%- endif -%}
                        {%- if block.settings.secondary_button_label != blank -%}
                          <a
                            {% if block.settings.secondary_button_link == blank %}
                              role="link" aria-disabled="true"
                            {% else %}
                              href="{{ block.settings.secondary_button_link }}"
                            {% endif %}
                            class="button {{ settings.button_style | prepend: 'button--style-' }} button--transparent mi-w color-{{ block.settings.secondary_button_color_scheme }} gradient" style="--mi-w: 25rem;"
                          >
                            <span>{{- block.settings.secondary_button_label | escape -}}</span>
                          </a>
                        {%- endif -%}
                      </div>
                    {%- endif -%}
                {%- endcase -%}
              {%- endfor -%}
            </div>
          </div>
        {%- endif -%}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "t:sections.contact-form.name",
  "tag": "section",
  "class": "section",
  "disabled_on": {
    "groups": ["header", "footer", "custom.popup"]
  },
  "settings": [
  {
    "type": "select",
    "id": "section_width",
    "options": [
    {
      "value": "full-width",
      "label": "t:sections.all.section_width.options__1"
    },
    {
      "value": "page-width",
      "label": "t:sections.all.section_width.options__2"
    },
    {
      "value": "customized-width",
      "label": "t:sections.all.section_width.options__3"
    }],
    "default": "customized-width",
    "label": "t:sections.all.section_width.label"
  },
  {
    "type": "range",
    "id": "customize_width",
    "min": 1000,
    "max": 1800,
    "step": 50,
    "default": 1400,
    "unit": "px",
    "label": "t:sections.all.customize_width.label"
  },
  {
    "type": "text",
    "id": "heading",
    "default": "Contact form",
    "label": "t:sections.all.heading.label"
  },
  {
    "type": "color_scheme",
    "id": "color_scheme",
    "label": "t:sections.all.colors.label",
    "default": "background-1"
  },
  {
    "type": "header",
    "content": "t:sections.all.padding.section_padding_heading"
  },
  {
    "type": "range",
    "id": "padding_top",
    "min": 0,
    "max": 100,
    "step": 1,
    "unit": "px",
    "label": "t:sections.all.padding.padding_top",
    "default": 36
  },
  {
    "type": "range",
    "id": "padding_bottom",
    "min": 0,
    "max": 100,
    "step": 1,
    "unit": "px",
    "label": "t:sections.all.padding.padding_bottom",
    "default": 36
  },
  {
    "type": "range",
    "id": "padding_top_mobile",
    "min": 0,
    "max": 100,
    "step": 1,
    "unit": "px",
    "label": "t:sections.all.padding.padding_top_mobile",
    "default": 0
  },
  {
    "type": "range",
    "id": "padding_bottom_mobile",
    "min": 0,
    "max": 100,
    "step": 1,
    "unit": "px",
    "label": "t:sections.all.padding.padding_bottom_mobile",
    "default": 30
  }],
  "blocks": [
  {
    "type": "heading",
    "name": "t:sections.rich-text.blocks.heading.name",
    "settings": [
    {
      "type": "richtext",
      "id": "heading",
      "default": "<p>Talk about your brand</p>",
      "label": "t:sections.all.heading.label"
    },
    {
      "type": "checkbox",
      "id": "show_line_separator",
      "default": false,
      "label": "t:sections.all.show_line_separator.label"
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.block_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 10
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 10
    }]
  },
  {
    "type": "caption",
    "name": "t:sections.rich-text.blocks.caption.name",
    "settings": [
    {
      "type": "text",
      "id": "caption",
      "default": "Add a tagline",
      "label": "t:sections.all.caption.label"
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.block_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 10
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 10
    }]
  },
  {
    "type": "text",
    "name": "t:sections.rich-text.blocks.text.name",
    "settings": [
    {
      "type": "richtext",
      "id": "text",
      "default": "<p>Share information about your brand with your customers. Describe a product, make announcements, or welcome customers to your store.</p>",
      "label": "t:sections.all.text.label"
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.block_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 10
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 10
    }]
  },
  {
    "type": "button",
    "name": "t:sections.rich-text.blocks.buttons.name",
    "limit": 2,
    "settings": [
    {
      "type": "text",
      "id": "primary_button_label",
      "default": "Button label",
      "label": "t:sections.all.primary_button_label.label"
    },
    {
      "type": "url",
      "id": "primary_button_link",
      "label": "t:sections.all.primary_button_link.label"
    },
    {
      "type": "color_scheme",
      "id": "primary_button_color_scheme",
      "label": "t:sections.all.primary_button_color_scheme.label",
      "default": "background-1"
    },
    {
      "type": "text",
      "id": "secondary_button_label",
      "default": "Button label",
      "label": "t:sections.all.secondary_button_label.label"
    },
    {
      "type": "url",
      "id": "secondary_button_link",
      "label": "t:sections.all.secondary_button_link.label"
    },
    {
      "type": "color_scheme",
      "id": "secondary_button_color_scheme",
      "label": "t:sections.all.secondary_button_color_scheme.label",
      "default": "background-1"
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.block_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 10
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 10
    }]
  }],
  "presets": [
  {
    "name": "t:sections.contact-form.presets.name"
  }]
}
{% endschema %}
