{%- liquid 
    assign logoBanner = section.blocks | where: "type", "logo"
    for block in logoBanner
        assign logo_image = block.settings.logo_image
        assign logo_width = block.settings.logo_width
    endfor
-%}

{%- if request.page_type == 'index' -%}
    <countdown-special class="section__countdown-s-hero pos-relative d-block color-{{ section.settings.color_scheme }} gradient image--ratio-full-screen image--ratio-mobile-full-screen" data-anchor-container="data-anchor-container">
        <div class="p-w__media d-block pos-absolute w-100 h-100 o-f-cover {%- if section.settings.mobile_image == blank and section.settings.image == blank %} mask{% endif %} animate--zoom-in">
            {%- if section.settings.image != blank -%}
                {%- assign image_alt = section.settings.image.alt | default: shop.name | escape -%}
                {{ section.settings.image | image_url: width: section.settings.image.width | image_tag:
                    widths: '375, 550, 750, 1100, 1500, 1780, 2000, 2650, 3000, 3200, 3840',
                    sizes: '100vw',
                    alt: image_alt,
                    class: 'image-desktop d-none d-block-md w-100 h-100 o-f-cover motion-reduce'
                }}
            {%- else -%}
                {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg d-none d-block-md w-100 h-100'}}
            {%- endif -%}
            {%- if section.settings.mobile_image != blank -%}
                {%- assign image_alt = section.settings.mobile_image.alt | default: shop.name | escape -%}
                {{ section.settings.mobile_image | image_url: width: section.settings.mobile_image.width | image_tag:
                    widths: '750',
                    sizes: '(min-width: 361px) calc(100vw/2), calc(100vw/3)',
                    alt: image_alt,
                    class: 'image-mobile d-block d-none-md w-100 h-100 o-f-cover motion-reduce'
                }}
            {%- elsif section.settings.image != blank -%}
                {%- assign image_alt = section.settings.image.alt | default: shop.name | escape -%}
                {{ section.settings.image | image_url: width: section.settings.image.width | image_tag:
                    widths: '750',
                    sizes: '(min-width: 361px) calc(100vw/2), calc(100vw/3)',
                    alt: image_alt,
                    class: 'image-mobile d-block d-none-md w-100 h-100 o-f-cover motion-reduce'
                }}
            {%- else -%}
                {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg d-block d-none-md w-100 h-100'}}
            {%- endif -%}
        </div>
        <div class="p-w__content {{ section.settings.section_width }} m-auto pos-absolute pos-absolute-c-c w-100 h-100 z-index-2"{%- if section.settings.section_width == 'customized-width' %} style="--page-width: {{ section.settings.customize_width }}px;"{% endif -%}>
            <animate-element class="blocks-content d-flex f-column a-i-center w-100 center pos-relative{% unless logo_image != blank %} h-100 banner__content--middle-center{% endunless %}">
                {%- for block in section.blocks -%}
                    {%- case block.type -%}
                        {%- when 'heading' -%}
                            {%- if block.settings.heading != blank -%}
                                <h2 class="banner__heading {{ block.settings.heading_size | prepend: 'heading-size-' }} element-spacing element-spacing-all m-0" data-animate="fade-down" {{ block.shopify_attributes }}
                                    style="--padding-top: {{ block.settings.padding_top }}px;
                                    --padding-bottom: {{ block.settings.padding_bottom }}px;
                                    --a-delay: {{ '0.2' | times: forloop.index }}s;"
                                >
                                    {{ block.settings.heading | escape }}
                                </h2>
                            {%- endif -%}
                        {%- when 'countdown' -%}
                            {%- if block.settings.time != blank -%}
                                <div class="banner__countdown-full hidden" data-animate="fade-down" {{ block.shopify_attributes }}
                                    style="--color-foreground: {{ block.settings.colors_text.red }}, {{ block.settings.colors_text.green }}, {{ block.settings.colors_text.blue }};
                                    --color-background: {{ block.settings.colors_background.red }}, {{ block.settings.colors_background.green }}, {{ block.settings.colors_background.blue }};
                                    --gradient-background: {% if block.settings.gradient_background != blank %}{{ block.settings.gradient_background }}{% else %}{{ block.settings.colors_background }}{% endif %};
                                    --padding-top: {{ block.settings.padding_top }}px;
                                    --padding-bottom: {{ block.settings.padding_bottom }}px;
                                    --a-delay: {{ '0.2' | times: forloop.index }}s;"
                                >
                                    <count-down class="d-block element-spacing element-spacing-all" data-countdown="{{ block.settings.time }}" data-type="dots">
                                        <div class="countdown d-flex a-i-center j-c-center gradient pos-relative o-h m-auto"></div>
                                    </count-down>
                                </div>
                            {%- endif -%}
                        {%- when 'buttons' -%}
                            {%- if block.settings.primary_button_label != blank -%}
                                <div class="banner__buttons break element-spacing element-spacing-all" data-animate="fade-down" {{ block.shopify_attributes }}
                                    style="--padding-top: {{ block.settings.padding_top }}px;
                                    --padding-bottom: {{ block.settings.padding_bottom }}px;
                                    --a-delay: {{ '0.2' | times: forloop.index }}s;"
                                >
                                    {%- if block.settings.primary_button_label != blank -%}
                                        <a {% if block.settings.primary_button_link == blank %} role="link" aria-disabled="true"{% else %} href="{{ block.settings.primary_button_link }}"{% endif %} class="button {{ settings.button_type | prepend: 'button--main-' }} {{ settings.button_icon | prepend: 'button--icon-' }} {{ settings.button_style | prepend: 'button--style-' }}{% if block.settings.button_transparent == 'transparent' %} button--transparent{% endif %}">
                                            <span class="text">{{- block.settings.primary_button_label | escape -}}</span>
                                            {% render 'button-main-style' %}
                                        </a>
                                    {%- endif -%}
                                </div>
                            {%- endif -%}
                    {%- endcase -%}
                {%- endfor -%}
            </animate-element>
        </div>
        {%- if logoBanner and logo_image != blank -%}
            <div class="banner__logo d-block pos-absolute w-100 customized-width" data-animate="fade-down" {{ block.shopify_attributes }} style="--a-delay: {{ '0.2' | times: forloop.index }}s; --page-width: {{ logo_width }}px;">
                {%- assign image_alt = logo_image.alt | default: shop.name | escape -%}
                {{ logo_image | image_url: width: logo_image.width | image_tag:
                    widths: '375, 550, 750, 1100, 1500, 1780, 2000, 2650, 3000, 3200, 3840',
                    sizes: '100vw',
                    alt: image_alt,
                    class: 'block-logo w-100 o-f-cover motion-reduce'
                }}
            </div>
        {%- endif -%}
        <anchor-target class="btn-scroll d-block pos-absolute c-pointer z-index-2" data-anchor="data-anchor">
            <button class="mouse pos-relative mx-auto d-block p-0 m-0 bg-transparent b-none" aria-label="Mouse scroll">
                <div class="line pos-absolute o-h"></div>
                {%- render 'icon-mouse-down' -%}
            </button>
        </anchor-target>
    </countdown-special>
{%- endif -%}

{%- if request.design_mode -%}
    <script src="{{ 'theme-editor.js' | asset_url }}" defer="defer"></script>
{%- endif -%}

{% schema %}
{
    "name": "t:sections.countdown-showcase-hero.name",
    "tag": "section",
    "class": "section countdown-s-hero o-h pos-relative",
    "disabled_on": {
        "groups": ["footer", "custom.popup"]
    },
    "settings": [
    {
        "type": "paragraph",
        "content": "*Only use for Home page."
    },
    {
        "type": "select",
        "id": "section_width",
        "options": [
        {
        "value": "page-width",
        "label": "t:sections.all.section_width.options__2"
        },
        {
        "value": "customized-width",
        "label": "t:sections.all.section_width.options__3"
        }],
        "default": "page-width",
        "label": "t:sections.all.section_width.label__4"
    },
    {
        "type": "range",
        "id": "customize_width",
        "min": 1000,
        "max": 1800,
        "step": 50,
        "default": 1800,
        "unit": "px",
        "label": "t:sections.all.customize_width.label"
    },
    {
        "type": "image_picker",
        "id": "image",
        "label": "t:sections.all.image.label",
        "info": "t:sections.countdown-showcase-hero.setting.info"
    },
    {
        "type": "image_picker",
        "id": "mobile_image",
        "label": "t:sections.all.mobile_image.label"
    },
    {
        "type": "header",
        "content": "t:settings_schema.colors.name"
    },
    {
        "type": "color_scheme",
        "id": "color_scheme",
        "label": "t:sections.all.colors.label",
        "default": "background-1"
    },
    {
        "type": "header",
        "content": "t:sections.slideshow.settings.accessibility.content"
    },
    {
        "type": "text",
        "id": "accessibility_info",
        "label": "t:sections.slideshow.settings.accessibility.label",
        "info": "t:sections.slideshow.settings.accessibility.info",
        "default": "Slideshow about our brand"
    }],
    "blocks": [
    {
        "type": "heading",
        "name": "t:sections.rich-text.blocks.heading.name",
        "limit": 1,
        "settings": [
        {
            "type": "text",
            "id": "heading",
            "default": "Image slide",
            "label": "t:sections.all.heading.label"
        },
        {
            "type": "select",
            "id": "heading_size",
            "options": [
            {
            "value": "default",
            "label": "t:sections.all.font_size.options"
            },
            {
            "value": "xx-small",
            "label": "t:sections.all.font_size.options__1"
            },
            {
            "value": "x-small",
            "label": "t:sections.all.font_size.options__2"
            },
            {
            "value": "small",
            "label": "t:sections.all.font_size.options__3"
            },
            {
            "value": "medium",
            "label": "t:sections.all.font_size.options__4"
            },
            {
            "value": "large",
            "label": "t:sections.all.font_size.options__5"
            },
            {
            "value": "x-large",
            "label": "t:sections.all.font_size.options__6"
            },
            {
            "value": "xx-large",
            "label": "t:sections.all.font_size.options__7"
            },
            {
            "value": "xxx-large",
            "label": "t:sections.all.font_size.options__8"
            }],
            "default": "default",
            "label": "t:sections.all.font_size.label__2"
        },
        {
            "type": "header",
            "content": "t:sections.all.padding.block_padding_heading"
        },
        {
            "type": "range",
            "id": "padding_top",
            "min": 0,
            "max": 50,
            "step": 1,
            "unit": "px",
            "label": "t:sections.all.padding.padding_top",
            "default": 10
        },
        {
            "type": "range",
            "id": "padding_bottom",
            "min": 0,
            "max": 50,
            "step": 1,
            "unit": "px",
            "label": "t:sections.all.padding.padding_bottom",
            "default": 10
        }]
    },
    {
        "type": "countdown",
        "name": "t:sections.image-banner.blocks.countdown.name",
        "limit": 1,
        "settings": [
        {
            "type": "text",
            "id": "time",
            "label": "t:sections.all.countdown.label",
            "info": "t:sections.all.countdown.info"
        },
        {
            "type": "color",
            "id": "colors_text",
            "label": "t:sections.all.colors.colors_text",
            "default": "#FFFFFF"
        },
        {
            "type": "color",
            "id": "colors_background",
            "label": "t:sections.all.colors.colors_background",
            "default": "#B30E13"
        },
        {
            "type": "color_background",
            "id": "gradient_background",
            "label": "t:sections.all.colors.gradient_background"
        },
        {
            "type": "header",
            "content": "t:sections.all.padding.block_padding_heading"
        },
        {
            "type": "range",
            "id": "padding_top",
            "min": 0,
            "max": 50,
            "step": 1,
            "unit": "px",
            "label": "t:sections.all.padding.padding_top",
            "default": 10
        },
        {
            "type": "range",
            "id": "padding_bottom",
            "min": 0,
            "max": 50,
            "step": 1,
            "unit": "px",
            "label": "t:sections.all.padding.padding_bottom",
            "default": 10
        }]
    },
    {
        "type": "buttons",
        "name": "t:sections.image-banner.blocks.buttons.name",
        "limit": 1,
        "settings": [
            {
            "type": "select",
            "id": "button_transparent",
            "options": [
                {
                "value": "default",
                "label": "t:sections.all.button_style.label__2"
                },
                {
                "value": "transparent",
                "label": "t:sections.all.button_style.label__3"
                }
            ],
            "default": "transparent",
            "label": "t:sections.all.button_style.label__1"
            },
        {
            "type": "text",
            "id": "primary_button_label",
            "default": "Button label",
            "label": "t:sections.all.primary_button_label.label"
        },
        {
            "type": "url",
            "id": "primary_button_link",
            "label": "t:sections.all.primary_button_link.label"
        },
        {
            "type": "header",
            "content": "t:sections.all.padding.block_padding_heading"
        },
        {
            "type": "range",
            "id": "padding_top",
            "min": 0,
            "max": 50,
            "step": 1,
            "unit": "px",
            "label": "t:sections.all.padding.padding_top",
            "default": 10
        },
        {
            "type": "range",
            "id": "padding_bottom",
            "min": 0,
            "max": 50,
            "step": 1,
            "unit": "px",
            "label": "t:sections.all.padding.padding_bottom",
            "default": 10
        }]
    },
    {
        "type": "logo",
        "name": "t:sections.countdown-showcase-hero.setting.logo.name",
        "limit": 1,
        "settings": [
        {
            "type": "image_picker",
            "id": "logo_image",
            "label": "t:sections.countdown-showcase-hero.setting.logo.label",
            "info": "t:sections.countdown-showcase-hero.setting.logo.info"
        },
        {
            "type": "range",
            "id": "logo_width",
            "min": 1000,
            "max": 1800,
            "step": 50,
            "default": 1800,
            "unit": "px",
            "label": "t:sections.all.customize_width.label"
        }]
    }],
    "presets": [
    {
        "name": "t:sections.countdown-showcase-hero.presets.name",
        "blocks": [
        {
            "type": "heading"
        },
        {
            "type": "countdown"
        },
        {
            "type": "buttons"
        }]
    }]
}
{% endschema %}